---
import Layout from '../layouts/Layout.astro';
import CarouselRanking from '../components/CarouselRanking.astro';
import CarouselInicio from '../components/CarouselInicio.astro';
import Banner from '../components/Banner.astro';
import Categ from '../components/Category.astro';
import Lectores from '../components/RankingLectores.astro';
import { db, User, Session, Libros } from 'astro:db';
import { eq } from 'astro:db';

const usuarios = await db.select().from(User);
const sesion = await db.select().from(Session);
const libros = await db.select().from(Libros);

if(Astro.locals.user){
  const user = Astro.locals.user;
  const usuarios = await db.select().from(User).where(eq(User.id, user.id));
  const [infoUser] = usuarios;
  const alias = infoUser.aliasUsuario;
}

---

<Layout title="BooKIFY">
	<main id="main">
    <CarouselInicio/>
    <br><br><br>
    <CarouselRanking/>
    <h1></h1>
    <br><br><br>
    <Banner/>
    <Categ/>
    <Lectores/>
        
	</main>

    
</Layout>

<script src="../scripts/buscador.js"></script>
<script src="/src/scripts/sesion.js"></script>

